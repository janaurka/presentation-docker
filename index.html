<!DOCTYPE html>
<html>
  <head>
    <title>Title</title>
    <meta charset="utf-8">
    <style>
      @import url(https://fonts.googleapis.com/css?family=Lato);
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body { font-family: 'Droid Serif'; }
      h1, h2, h3 {
        font-family: 'Lato';
        font-weight: normal;
      }
      .remark-code, .remark-inline-code {
        font-family: 'Ubuntu Mono';
      }
      .remark-code-line-highlighted { background-color: #373832; }
      code {
        background: #e7e8e2;
        border-radius: 5px;
      }


    </style>
  </head>
  <body>
    <textarea id="source">

class: center, middle

# Docker
## Let’s have a look

---
# Internet: Shall we use containers?

--

.center[![Containerize all](pic/docker-all-the-things.png)]

---

# Technique

.center[![IBM already did that in 1960](pic/mainframe.jpg)]

---

# Really kinda old

.center[![Container services](pic/old-containers.jpg)]

---

# What do we need?

To create, maintain and run a container:

* Linux Kernel >= 3.8
* Container-daemon or tool
  * docker, rkt, libcontainer, runC, appC, (whatever)

---

# What looks good?

* Gets adopted widely
* The big players have jumped onto the train
* Massive devolopment and research ongoin
* Probably the next big thing


.center[![Everyone is using it](./pic/otp.png)]

???

Docker seems to be THE future.

Keep in mind, that it’s a new technology.

---

# The dark side

--

.center[![cons](pic/docker-cons.png)]

???

Let’s have some examples

---

# Not like this

.center[![not like this](./pic/fail.gif)]

---

# Central Hub

### There is already a container for that

This might be a good thing, *but*:

* You loose control
* You have to trust others
  * Bad practices?
  * Security?
* You cannot control updates / changes
* Do you really want to debug this?


---

# Examples

--
Official PHP Container (Downloads: 163415)

<section>
    <pre><code data-trim>
  curl -SL "http://php.net/get/php-$PHP_VERSION.tar.bz2" -o php.tar.bz2
  curl -SL "http://php.net/get/php-$PHP_VERSION.tar.bz2.asc" -o php.tar.bz2.asc
  gpg --verify php.tar.bz2.asc
    </code></pre>
</section>

--

Wordpress Container from Appcontainers (Downloads: 12434)

.center[![Appcontrol-Wordpress Container](./pic/appcontainers-wp.png)]

---

# What to do?

* Create your own lightweight containers
  * Pull from a distribution Image like Ubuntu or CentOS. *Do not* use 3rd party containers.
* Install exactly the things you need and do that properly
  * Use `apt-get`, `yum` or whatever the distribution gives you. Only compile if you know *exactly* what you are doing


---

# Technique Part 2

# It’s getting complex

### Base requirements

To create, maintain and run a container:

* Linux Kernel >= 3.8 and a container-daemon (docker, rkt, etc.) or tool

---

class: middle

.center[![There is more](./pic/more.jpg)]

---

### Further requirements

Non-Linux Users:

* Install a VM which runs Linux and pass through some traffic/signals/stuff.

???

It’s a bit more complicatet then just start and run

--

.center[![Go wrong](./pic/go-wrong.png)]

--

It’s probably a better solution to run a docker cluster somewhere inhouse.

---

### Further requirements

For a production (near) enviroment, we need:

* Networking
  * Routing, Addresses, Locations
* Monitoring
  * Is it still alive?
* Fail-Over
  * Well, our host panic'ed and everything went south
* Clustering
  * There should be more then one instance


--

(and this is just the absolute minimum)


---

### Possible solutions

_Use a service:_

* Google Container Service (Kubernetes)
* Amazon EC2 Container Service

Problems:

* Complete Vendor lockin
* Debugging will be a massive PITA
* These services seem to be early beta (ask Marcus, he was at the AWS Summit :) )

---

### The way Google does it

.center[![Google’s Kubernetes](pic/kubernetes.jpeg)]


---

### Possible solutions

_Do it yourself:_

* CoreOS
* Mesos
* (more)
* use your favorite Distro and use the services you‘d like

Problems:

* Huge effort
* These services are brand new and not-so-well battletested as we’d like to have
* Building this in the cloud = Cloud²


---

### Using CoreOS



.center[![CoreOS OSI Layer](./pic/osi-model-clustering.svg)]


---



# Things you should have in mind when using containers

* Build your own Containers
  * Base: Ubuntu, CentOS, whatever. Use official (read from the OS-Manufacturer) Containers.
  * Have security in mind
  * Only use applications that support stateless-systems
  * Have a good plan to keep your data safe (also in terms of integrity, movable

---

class: middle, center

# Questions?

---

# Get the slides

Here:

* Stash (internally): https://projects.razorfish.de/stash/users/janmuell/repos/docker-presentation/browse
* Github: https://github.com/janaurka/presentation-docker 

    </textarea>
    <script src="https://gnab.github.io/remark/downloads/remark-latest.min.js">
    </script>
    <script>
      var slideshow = remark.create();
    </script>
  </body>
</html>
